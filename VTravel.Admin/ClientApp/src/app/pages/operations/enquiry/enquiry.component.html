
<div class="row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-header>

        Enquiry 1815
       
      </nb-card-header>
      <nb-card-body>
        <nb-actions size="medium" fullWidth>
          <nb-action>
            <nb-icon class="action-icon" icon="arrow-down-outline"></nb-icon>
            <span>STATUS: NEW</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="phone-call-outline"></nb-icon>
            <span>CALL</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="logo-whatsapp"></nb-icon>
            <span>WHATSAPP</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="card"></nb-icon>
            <span>PAYMENT</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="calendar-outline"></nb-icon>
            <span>BOOKING</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="plus-outline"></nb-icon>
            <span>ADD NOTE</span>
          </nb-action>
          <nb-action>
            <nb-icon class="action-icon" icon="corner-up-right-outline"></nb-icon>
            <span>ASSIGNEE: Abdul Nassar</span>
          </nb-action>
        </nb-actions>
      </nb-card-body>

    </nb-card>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <nb-card>

      <nb-card-body>

        <form #mainBasicForm="ngForm" novalidate>
          <nb-card>
            <nb-card-header>
              <div class="row">
                <div class="col-md-10">Basic Details</div>
                <div class="col-md-2">
                  <button type="submit" nbButton class="btn btn-sm btn-outline-primary" [disabled]="mainBasicForm.invalid"
                          [nbSpinner]="loadingSave" nbSpinnerStatus="primary" nbSpinnerSize="xsmall" nbSpinnerMessage="">

                    <nb-icon icon="save-outline"></nb-icon>UPDATE
                  </button>

                </div>
              </div>

            </nb-card-header>
            <nb-card-body>

              <!--<div class="form-group">
          <label class="label">Status</label>
          <input type="text" nbInput fullWidth placeholder="Status" readonly="readonly"
                 autocomplete="off"
                 name="propertyStatus"
                 [(ngModel)]="property.propertyStatus"
                 required #propertyStatus="ngModel"
                 [status]="propertyStatus.dirty ? (propertyStatus.invalid  ? 'danger' : 'success') : 'basic'">
        </div>
        <div class="form-group">
          <label class="label">Title</label>
          <input type="text" nbInput fullWidth placeholder="Title"
                 autocomplete="off"
                 name="title"
                 [(ngModel)]="property.title"
                 required #title="ngModel"
                 [status]="title.dirty ? (title.invalid  ? 'danger' : 'success') : 'basic'">
        </div>

        <div class="form-group">
          <label class="label">Property Type</label>
          <nb-select placeholder="[SELECT]" [fullWidth]="true"
                     name="propertyTypeId"
                     [(ngModel)]="property.propertyTypeId"
                     required #propertyTypeId="ngModel"
                     [status]="propertyTypeId.dirty ? (propertyTypeId.invalid  ? 'danger' : 'success') : 'basic'">
            <nb-option value={{item.id}} *ngFor="let item of propertyTypes">{{item.typeName}}</nb-option>

          </nb-select>
        </div>
        <div class="form-group">
          <label class="label">Short Description</label>
          <textarea nbInput fullWidth placeholder="Short Description"
                    autocomplete="off"
                    name="shortDescription"
                    [(ngModel)]="property.shortDescription"
                    required #shortDescription="ngModel"
                    [status]="shortDescription.dirty ? (shortDescription.invalid  ? 'danger' : 'success') : 'basic'">

          </textarea>
        </div>
        <div class="form-group">
          <label class="label">Address</label>
          <input type="text" nbInput fullWidth placeholder="Address"
                 autocomplete="off"
                 name="address"
                 [(ngModel)]="property.address"
                 required #address="ngModel"
                 [status]="address.dirty ? (address.invalid  ? 'danger' : 'success') : 'basic'">

        </div>-->


            </nb-card-body>
          </nb-card>
        </form>

        
      </nb-card-body>
      <nb-card-footer>
        <div class="uk-container uk-padding">
          <div class="uk-timeline">
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-08">July 10</time></h6>
                      <span class="uk-label uk-label-success uk-margin-auto-left">BOOKING CONFIRMED</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p class="uk-text-success">
                      Booking confirmed

                    </p>

                    <table>
                      <tr>
                        <td>Booking Id:</td>
                        <td><a href="#">VH1346</a></td>
                      </tr>
                      <tr>
                        <td>Amount:	</td>
                        <td>RS 12000.00</td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-08">July 9</time></h6>
                      <span class="uk-label uk-label-success uk-margin-auto-left">PAYMENt RECEIVED</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p class="uk-text-success">
                      Payment received from customer
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-08">July 9</time></h6>
                      <span class="uk-label uk-label-warning uk-margin-auto-left">PAYMENT LINK SENT</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p>
                      Payment link sent to customer
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-08">July 8</time></h6>
                      <span class="uk-label uk-label-warning uk-margin-auto-left">CONTACTED</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p class="uk-text-success">
                      Contacted in whatsapp and agreed the deal
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-07">July 7</time></h6>
                      <span class="uk-label uk-label-warning uk-margin-auto-left">CALL BACK</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p>
                      Customer negotiated for price.
                    </p>

                  </div>
                </div>
              </div>
            </div>

            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-07">July 6</time></h6>
                      <span class="uk-label uk-label-warning uk-margin-auto-left">ASSIGN TO</span>
                    </div>
                  </div>
                  <div class="uk-card-body">
                    <p>
                      Enquiry assigned to Staff Name.
                    </p>

                  </div>
                </div>
              </div>
            </div>
            <div class="uk-timeline-item">
              <div class="uk-timeline-icon">
                <span class="uk-badge">
                  <!--<span uk-icon="check"></span>-->
                  <nb-icon icon="checkmark-outline"></nb-icon>
                </span>
              </div>
              <div class="uk-timeline-content">
                <div class="uk-card uk-card-default uk-margin-medium-bottom uk-overflow-auto">
                  <div class="uk-card-header">
                    <div class="uk-grid-small uk-flex-middle" uk-grid>
                      <h6 class="uk-card-title"><time datetime="2020-07-06">July 6</time></h6>
                      <span class="uk-label uk-label-warning uk-margin-auto-left">NEW ENQUIRY</span>
                    </div>
                  </div>
                  <div class="uk-card-body">


                    <table>
                      <tr>
                        <td>Name:</td>
                        <td>Muhammed Adhil p</td>
                      </tr>
                      <tr>
                        <td>Email:</td>
                        <td>adhilparavath316@gmail.com</td>
                      </tr>
                      <tr>
                        <td>Phone:</td>
                        <td>919746810316</td>
                      </tr>
                      <tr>
                        <td>Property:</td>
                        <td>VOYE HOMES Novella Vagamon</td>
                      </tr>
                      <tr>
                        <td>Adults:</td>
                        <td>8</td>
                      </tr>
                      <tr>
                        <td>Children:	</td>
                        <td>0</td>
                      </tr>
                      <tr>
                        <td>Check-in:	</td>
                        <td>9/20/2020</td>
                      </tr>
                      <tr>
                        <td>Check-out:	</td>
                        <td>9/20/2020</td>
                      </tr>

                    </table>




                  </div>
                </div>
                <!--<a href="#"><span class="uk-margin-small-right" uk-icon="triangle-down"></span>Load more</a>-->
              </div>
            </div>
          </div>
        </div>
      </nb-card-footer>
    </nb-card>
  </div>
</div>




<ng-template #reserveDialogNew let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>
      <div class="row">
        <div class="col-md-10">{{data.title}}</div>
        <div class="col-md-2">
          <button type="button" (click)="ref.close()" nbButton class="btn btn-sm btn-outline-secondary">
            <nb-icon icon="close-outline"></nb-icon>
          </button>
        </div>
      </div>
    </nb-card-header>
    <nb-card-body>

      <form (ngSubmit)="onNewReserveSubmit()" #mainNewReservForm="ngForm" novalidate>

        <div class="form-group row">
          <div class="col-6">
            <label class="label">Check-in</label>
            <input type="date" nbInput fullWidth placeholder="Check-in"
                   autocomplete="off"
                   name="fromDate"
                   [(ngModel)]="reservData.fromDate"
                   required #fromDate="ngModel"
                   [status]="fromDate.dirty ? (fromDate.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
          <div class="col-6">
            <label class="label">Check-out</label>
            <input type="date" nbInput fullWidth placeholder="Check-out"
                   autocomplete="off"
                   name="toDate"
                   [(ngModel)]="reservData.toDate"
                   required #toDate="ngModel"
                   [status]="toDate.dirty ? (toDate.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
        </div>
        <div class="form-group row">
          <div class="col-6">
            <label class="label">Number of Rooms (Available:{{reservData.maxAvailableQty}})</label>
            <nb-select placeholder="[SELECT]" [fullWidth]="true"
                       name="noOfRooms"
                       [(ngModel)]="reservData.noOfRooms"
                       required #noOfRooms="ngModel"
                       [status]="noOfRooms.dirty ? (noOfRooms.invalid  ? 'danger' : 'success') : 'basic'">
              <nb-option value={{i+1}} *ngFor="let c of [].constructor(reservData.maxAvailableQty); let i = index">{{i+1}}</nb-option>
            </nb-select>
          </div>
          <div class="col-6">
            <label class="label">Booking Channel</label>
            <nb-select placeholder="[SELECT]" [fullWidth]="true"
                       name="bookingChannelId"
                       [(ngModel)]="reservData.bookingChannelId"
                       required #bookingChannelId="ngModel"
                       [status]="bookingChannelId.dirty ? (bookingChannelId.invalid  ? 'danger' : 'success') : 'basic'">
              <nb-option value={{item.id}} *ngFor="let item of channels">{{item.channelName}}</nb-option>
            </nb-select>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-6">
            <label class="label">Number of Guests</label>
            <input type="number" nbInput fullWidth placeholder="Number of Guests"
                   autocomplete="off"
                   name="noOfGuests"
                   [(ngModel)]="reservData.noOfGuests"
                   required #noOfGuests="ngModel"
                   [status]="noOfGuests.dirty ? (noOfGuests.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
          <div class="col-6">
            <label class="label">Final Amount</label>
            <input type="number" nbInput fullWidth placeholder="Final Amount"
                   autocomplete="off"
                   name="finalAmount"
                   [(ngModel)]="reservData.finalAmount"
                   required #finalAmount="ngModel"
                   [status]="finalAmount.dirty ? (finalAmount.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
        </div>

        <div class="form-group">
          <label class="label">Guest Name</label>
          <input type="text" nbInput fullWidth placeholder="Guest Name"
                 autocomplete="off"
                 name="custName"
                 [(ngModel)]="reservData.custName"
                 required #custName="ngModel"
                 [status]="custName.dirty ? (custName.invalid  ? 'danger' : 'success') : 'basic'">
        </div>
        <div class="form-group row">
          <div class="col-6">
            <label class="label">Guest Email</label>
            <input type="email" nbInput fullWidth placeholder="Guest Email"
                   autocomplete="off"
                   name="custEmail"
                   [(ngModel)]="reservData.custEmail"
                   #custEmail="ngModel"
                   [status]="custEmail.dirty ? (custEmail.invalid  ? 'danger' : 'success') : 'basic'">
          </div>

          <div class="col-6">
            <label class="label">Guest Phone</label>
            <input type="number" nbInput fullWidth placeholder="Guest Phone"
                   autocomplete="off"
                   name="custPhone"
                   [(ngModel)]="reservData.custPhone"
                   #custPhone="ngModel"
                   [status]="custPhone.dirty ? (custPhone.invalid  ? 'danger' : 'success') : 'basic'">
          </div>


        </div>



        <div class="form-group">
          <label class="label">Details</label>
          <textarea nbInput fullWidth placeholder="Details"
                    autocomplete="off"
                    name="details"
                    [(ngModel)]="reservData.details"
                    #details="ngModel"
                    [status]="details.dirty ? (details.invalid  ? 'danger' : 'success') : 'basic'">

          </textarea>
        </div>



        <button type="submit" nbButton class="btn btn-sm btn-outline-primary" [disabled]="mainNewReservForm.invalid"
                [nbSpinner]="loadingSave" nbSpinnerStatus="primary" nbSpinnerSize="xsmall" nbSpinnerMessage="">
          <nb-icon icon="save-outline"></nb-icon>SAVE
        </button>
      </form>


    </nb-card-body>
  </nb-card>
</ng-template>

<ng-template #reserveDialog let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>
      <div class="row">
        <div class="col-md-10">{{data.title}}</div>
        <div class="col-md-2">
          <button type="button" (click)="ref.close()" nbButton class="btn btn-sm btn-outline-secondary">
            <nb-icon icon="close-outline"></nb-icon>
          </button>
        </div>
      </div>
    </nb-card-header>
    <nb-card-body>

      <form (ngSubmit)="onReserveSubmit()" #mainReservForm="ngForm" novalidate>

        <div class="form-group row">
          <div class="col-6">
            <label class="label">Check-in</label>
            <input type="text" readonly nbInput fullWidth placeholder="Check-in"
                   autocomplete="off"
                   name="fromDate"
                   [(ngModel)]="reservData.fromDate"
                   required #fromDate="ngModel"
                   [status]="fromDate.dirty ? (fromDate.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
          <div class="col-6">
            <label class="label">Check-out</label>
            <input type="text" readonly nbInput fullWidth placeholder="Check-out"
                   autocomplete="off"
                   name="toDate"
                   [(ngModel)]="reservData.toDate"
                   required #toDate="ngModel"
                   [status]="toDate.dirty ? (toDate.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
        </div>

        <div class="form-group row">
          <div class="col-6">
            <label class="label">Number of Rooms (Available:{{reservData.maxAvailableQty}})</label>
            <nb-select placeholder="[SELECT]" [fullWidth]="true"
                       name="noOfRooms"
                       [(ngModel)]="reservData.noOfRooms"
                       required #noOfRooms="ngModel"
                       [status]="noOfRooms.dirty ? (noOfRooms.invalid  ? 'danger' : 'success') : 'basic'">
              <nb-option value={{i+1}} *ngFor="let c of [].constructor(reservData.maxAvailableQty); let i = index">{{i+1}}</nb-option>
            </nb-select>
          </div>
          <div class="col-6">
            <label class="label">Booking Channel</label>
            <nb-select placeholder="[SELECT]" [fullWidth]="true"
                       name="bookingChannelId"
                       [(ngModel)]="reservData.bookingChannelId"
                       required #bookingChannelId="ngModel"
                       [status]="bookingChannelId.dirty ? (bookingChannelId.invalid  ? 'danger' : 'success') : 'basic'">
              <nb-option value={{item.id}} *ngFor="let item of channels">{{item.channelName}}</nb-option>
            </nb-select>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-6">
            <label class="label">Number of Guests</label>
            <input type="number" nbInput fullWidth placeholder="Number of Guests"
                   autocomplete="off"
                   name="noOfGuests"
                   [(ngModel)]="reservData.noOfGuests"
                   required #noOfGuests="ngModel"
                   [status]="noOfGuests.dirty ? (noOfGuests.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
          <div class="col-6">
            <label class="label">Final Amount</label>
            <input type="number" nbInput fullWidth placeholder="Final Amount"
                   autocomplete="off"
                   name="finalAmount"
                   [(ngModel)]="reservData.finalAmount"
                   required #finalAmount="ngModel"
                   [status]="finalAmount.dirty ? (finalAmount.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
        </div>

        <div class="form-group">
          <label class="label">Guest Name</label>
          <input type="text" nbInput fullWidth placeholder="Guest Name"
                 autocomplete="off"
                 name="custName"
                 [(ngModel)]="reservData.custName"
                 required #custName="ngModel"
                 [status]="custName.dirty ? (custName.invalid  ? 'danger' : 'success') : 'basic'">
        </div>
        <div class="form-group row">
          <div class="col-6">
            <label class="label">Guest Email</label>
            <input type="email" nbInput fullWidth placeholder="Guest Email"
                   autocomplete="off"
                   name="custEmail"
                   [(ngModel)]="reservData.custEmail"
                   #custEmail="ngModel"
                   [status]="custEmail.dirty ? (custEmail.invalid  ? 'danger' : 'success') : 'basic'">
          </div>

          <div class="col-6">
            <label class="label">Guest Phone</label>
            <input type="number" nbInput fullWidth placeholder="Guest Phone"
                   autocomplete="off"
                   name="custPhone"
                   [(ngModel)]="reservData.custPhone"
                   #custPhone="ngModel"
                   [status]="custPhone.dirty ? (custPhone.invalid  ? 'danger' : 'success') : 'basic'">
          </div>
        </div>



        <div class="form-group">
          <label class="label">Details</label>
          <textarea nbInput fullWidth placeholder="Details"
                    autocomplete="off"
                    name="details"
                    [(ngModel)]="reservData.details"
                    #details="ngModel"
                    [status]="details.dirty ? (details.invalid  ? 'danger' : 'success') : 'basic'">

          </textarea>
        </div>

        <div class="row">
          <div class="col-6">
            <button type="button" (click)="openReserveDelete(deleteReserveDialog)" nbButton class="btn btn-sm btn-outline-secondary">
              <nb-icon icon="trash-outline"></nb-icon>
            </button>
          </div>
          <div class="col-6">
            <button type="submit" nbButton class="btn btn-sm btn-outline-primary" [disabled]="mainReservForm.invalid"
                    [nbSpinner]="loadingSave" nbSpinnerStatus="primary" nbSpinnerSize="xsmall" nbSpinnerMessage="">
              <nb-icon icon="save-outline"></nb-icon>SAVE
            </button>
          </div>
        </div>



      </form>


    </nb-card-body>
  </nb-card>
</ng-template>



<ng-template #deleteReserveDialog let-data let-ref="dialogRef">
  <nb-card>
    <nb-card-header>
      {{data.title}}
    </nb-card-header>
    <nb-card-body>
      Are you sure to delete this reservation?
    </nb-card-body>
    <nb-card-footer>
      <div class="row">
        <div class="col-md-6">
          <button type="button" nbButton class="btn btn-sm btn-outline-secondary" (click)="ref.close()">
            <nb-icon icon="slash-outline"></nb-icon>CANCEL
          </button>
        </div>
        <div class="col-md-6">
          <button type="button" (click)="deleteReservation()" nbButton class="btn btn-sm btn-outline-primary"
                  [nbSpinner]="loadingDelete" nbSpinnerStatus="primary" nbSpinnerSize="xsmall" nbSpinnerMessage="">
            <nb-icon icon="trash-outline"></nb-icon>DELETE
          </button>
        </div>
      </div>


    </nb-card-footer>
  </nb-card>
</ng-template>




